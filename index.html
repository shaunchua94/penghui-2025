<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Birthday Surprise ðŸŽ‰</title>

<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    background: none;
    transition: background 0.5s ease;
  }

  body.background-image {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }

  /* Landing page uses background.jpg */
  body.background-image.landing::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    background: url('images/background.jpg') center center / cover no-repeat;
  }

  /* Cards page uses white translucent overlay */
  body.background-image:not(.landing)::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    background: rgba(255, 255, 255, 0.7);
  }

  h1 {
    margin-top: 20px;
    text-align: center;
    color: #333;
  }

  #startScreen {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    flex: 1;
    width: 100%;
  }

  button {
    background: #ff5c8a;
    border: none;
    color: white;
    padding: 15px 30px;
    font-size: 18px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  button:hover {
    background: #e04873;
  }

  #gifOverlay {
    display: none;
    position: fixed;
    inset: 0;
    background: url('images/zenitsu.gif') center center / contain no-repeat;
    background-color: black;
    z-index: 1000;
    opacity: 1;
    transition: opacity 0.5s ease;
  }

  #gifOverlay.fade-out {
    opacity: 0;
  }

  #cardContainer {
    display: none;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    padding: 20px;

    opacity: 0;
    transform: translateY(30px);
    transition: opacity 1.2s ease, transform 1.2s ease;
  }

  #cardContainer.show {
    opacity: 1;
    transform: translateY(0);
    display: flex;
  }

  .card {
    width: 120px;
    height: 160px;
    perspective: 1000px;
  }

  .card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    cursor: pointer;
  }

  .card.flipped .card-inner {
    transform: rotateY(180deg);
  }

  .card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 10px;
    display: flex;
    justify-content: center;
    padding: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }

  .card-front {
    background: #ffb3c6;
    font-weight: bold;
    font-size: 16px;
    text-align: center;
    align-items: center;
  }

  .card-back {
    background: #fff;
    transform: rotateY(180deg);
    font-size: 14px;
    text-align: center;
    overflow-y: auto;
    align-items: flex-start;
    padding-top: 10px;
  }
</style>
</head>
<body>

<div id="startScreen">
  <h1>ðŸŽ‚ Happy Birthday! ðŸŽ‚</h1>
  <button onclick="startApp()">Start</button>
</div>

<div id="gifOverlay"></div>

<div id="cardContainer"></div>

<script>
  const messages = [
    { name: "Alice", text: "Wishing you a day filled with love and cake! ðŸŽ‚" },
    { name: "Bob", text: "Happy Birthday! Hope all your dreams come true! âœ¨" },
    { name: "Charlie", text: "Cheers to another year of awesomeness! ðŸ¥³" },
    { name: "Dana", text: "Have the happiest birthday ever! ðŸ’–" },
    { name: "Eleanor", text: "Here's a longer message just to test how scrolling works inside the card back. Make sure you can scroll this text if it gets too long for the card! Make sure you can scroll this text if it gets too long for the card!" }
  ];

  window.onload = () => {
    document.body.classList.add('background-image', 'landing');
  };

  function startApp() {
    const startScreen = document.getElementById("startScreen");
    const gifOverlay = document.getElementById("gifOverlay");
    const cardContainer = document.getElementById("cardContainer");
    const body = document.body;

    startScreen.style.display = "none";
    gifOverlay.style.display = "block";

    setTimeout(() => {
      // Fade out GIF overlay
      gifOverlay.classList.add('fade-out');

      // After fade completes:
      setTimeout(() => {
        gifOverlay.style.display = "none";
        gifOverlay.classList.remove('fade-out');

        // Show cards container with fade/slide animation
        cardContainer.style.display = "flex";

        // Delay adding show class so transition works
        setTimeout(() => {
          cardContainer.classList.add('show');
        }, 50);

        // Update body background classes
        body.classList.add('background-image');
        body.classList.remove('landing');

        // Add cards (only once)
        if (!cardContainer.hasChildNodes()) {
          messages.forEach(msg => {
            const card = document.createElement("div");
            card.className = "card";
            card.innerHTML = `
              <div class="card-inner">
                <div class="card-front">${msg.name}</div>
                <div class="card-back">${msg.text}</div>
              </div>
            `;
            card.addEventListener("click", () => {
              card.classList.toggle("flipped");
            });
            cardContainer.appendChild(card);
          });
        }
      }, 500); // 0.5s fade duration
    }, 4500); // 4.5s GIF display time
  }
</script>

</body>
</html>
