<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Card Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden;
    background-color: #000;
    color: #fdf6e3;
  }
  body.background-image::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    background:
      linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)),
      url('images/background.jpg') center center / cover no-repeat;
  }
  #landing {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.6);
    text-align: center;
    padding: 20px;
    z-index: 500;
  }
  #landing h1 {
    font-family: 'Pacifico', cursive;
    font-size: 2.5em;
    margin-bottom: 20px;
    color: #fdf6e3;
    text-shadow: 2px 2px 5px rgba(0,0,0,0.6);
  }
  #landing button {
    background: linear-gradient(135deg, #ffb347, #ffcc33);
    border: none;
    padding: 10px 20px;
    font-size: 1.2em;
    cursor: pointer;
    border-radius: 8px;
    color: #3b2f1e;
    font-weight: bold;
    transition: background 0.3s ease;
  }
  #landing button:hover {
    background: linear-gradient(135deg, #ffcc33, #ffb347);
  }
  #gifOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 400;
    opacity: 1;
    transition: opacity 1s ease;
  }
  #gifOverlay img {
    max-width: 80%;
    max-height: 80%;
  }
  #cardContainer {
    position: relative;
    width: 100%;
    height: 100%;
    padding: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: flex-start;
    gap: 20px;
    opacity: 0;
    transform: translateY(30px);
    pointer-events: none;
    transition: opacity 0.8s ease, transform 0.8s ease;
  }
  #cardContainer.show {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-5px); }
  }
  .card {
    perspective: 1000px;
    cursor: pointer;
    animation: float 4s ease-in-out infinite;
  }
  .card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.8s;
    transform-style: preserve-3d;
  }
  .card.flipped .card-inner {
    transform: rotateY(180deg);
  }
  .card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 10px;
    backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    text-align: center;
  }
  .card-front {
    background: #ffe5b4;
    color: #3b2f1e;
    font-weight: bold;
  }
  .card-back {
    background: #fffaf0;
    color: #3b2f1e;
    transform: rotateY(180deg);
    overflow-y: auto;
  }
  @media (max-width: 600px) {
    #cardContainer { gap: 10px; }
    .card { width: 30%; height: 30vw; animation: none; }
    .card-inner { height: 100%; }
    .card-back { display: none; }
  }
  #messageOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    color: #fffaf0;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 20px;
    text-align: left;
    z-index: 600;
  }
  #messageOverlayContent {
    max-width: 500px;
    max-height: 80vh;
    overflow-y: auto;
    background: #3b2f1e;
    padding: 20px;
    border-radius: 12px;
    position: relative;
  }
  #closeOverlay {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 1.5em;
    background: none;
    border: none;
    color: #fffaf0;
    cursor: pointer;
  }
  .navButton {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 179, 71, 0.8);
    border: none;
    padding: 8px 12px;
    font-size: 1.2em;
    cursor: pointer;
    border-radius: 6px;
  }
  #prevMsg { left: -60px; }
  #nextMsg { right: -60px; }
</style>
</head>
<body class="background-image landing">

<div id="landing">
  <h1>Welcome to the Card Surprise!</h1>
  <button onclick="startApp()">Start</button>
</div>

<div id="gifOverlay" style="display:none;">
  <img src="images/zenitsu.gif" alt="Overlay GIF">
</div>

<div id="cardContainer">
  <!-- Cards -->
  <div class="card" data-name="Baoru" data-message="Hi Peng Hui, blessed birthday!<br><br>I thank God for your life and for the quiet strength you carry.<br><br>Even though youâ€™re soft-spoken, I can see that your heart is tender toward Him, and itâ€™s always such a blessing to hear the glimpses you share about how God is working in your life and family. I pray this year draws you even closer to Himâ€”that you continue to know His heart more deeply and walk in His peace and joy.<br><br>May He bless you abundantly in every way!! ðŸ¥³">
    <div class="card-inner"><div class="card-front">Baoru</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Mav" data-message="Blessed birthday Pengz! Came a long way since NYP days :&quot; we also known each other for quite long already! ... [full message trimmed for brevity]">
    <div class="card-inner"><div class="card-front">Mav</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Huiru" data-message="Hello my precious hubibi,<br><br>HAPPY BIRTHDAY (I think Iâ€™ve wished you at least 5x lolol)!<br><br>Thank you for being the best husband I can ever have, showing me a glimpse of Godâ€™s love for meðŸ¥° ...">
    <div class="card-inner"><div class="card-front">Huiru</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Charlene" data-message="blessed birthday peng hui!!<br><br>it's been a great joy to get to know you better since you joined us ...">
    <div class="card-inner"><div class="card-front">Charlene</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Ken" data-message="Happy Birthday, Penghui!<br>Wishing you a day full of good vibes, great company, and maybe a cold beer (or two) to top it off. ...">
    <div class="card-inner"><div class="card-front">Ken</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Matt" data-message="Happy birthday beer kingðŸº<br><br>Glad that you joined our lg when you moved to yishun! Itâ€™s been a joy!! ...">
    <div class="card-inner"><div class="card-front">Matt</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Georgina" data-message="happy birthday penghui! ðŸ¥³ðŸŽ‰ðŸŽ‚ðŸŽŠ it has been a year since you joined this lifegroup ...">
    <div class="card-inner"><div class="card-front">Georgina</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Shaun" data-message="Yo Peng Hui!<br><br>Happy birthday man,<br><br>Finally have another guitarist in the LG, now I can relax one corner. ...">
    <div class="card-inner"><div class="card-front">Shaun</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Esther" data-message="Hello Brother Huiiii<br><br>Happiest 30th Birthday! Welcome to the old people club. ...">
    <div class="card-inner"><div class="card-front">Esther</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Daryl" data-message="Happy birthday Peng Hui! You've been an awesome addition to the LG ...">
    <div class="card-inner"><div class="card-front">Daryl</div><div class="card-back"></div></div>
  </div>

  <div class="card" data-name="Brenda" data-message="Happy birthday Peng Hui! Canâ€™t believe we are in the same Lg after knowing each other for years. ...">
    <div class="card-inner"><div class="card-front">Brenda</div><div class="card-back"></div></div>
  </div>
</div>

<div id="messageOverlay">
  <div id="messageOverlayContent">
    <button id="closeOverlay">&times;</button>
    <h2 id="overlayName"></h2>
    <p id="overlayText"></p>
    <button class="navButton" id="prevMsg">&#9664;</button>
    <button class="navButton" id="nextMsg">&#9654;</button>
  </div>
</div>

<script>
function startApp() {
  document.getElementById('landing').style.display = 'none';
  const overlay = document.getElementById('gifOverlay');
  overlay.style.display = 'flex';
  setTimeout(() => {
    overlay.style.opacity = 0;
    setTimeout(() => {
      overlay.style.display = 'none';
      const cardContainer = document.getElementById('cardContainer');
      cardContainer.classList.add('show');
      setTimeout(() => {
        confetti({ particleCount: 200, spread: 70, origin: { y: 0.6 } });
      }, 300);
    }, 1000);
  }, 4000);
}

const isMobile = window.matchMedia("(max-width: 600px)").matches;
const cards = document.querySelectorAll('.card');
let currentIndex = 0;

if (isMobile) {
  cards.forEach((card, index) => {
    card.addEventListener('click', () => {
      currentIndex = index;
      openMessage(index);
    });
  });
} else {
  cards.forEach(card => {
    card.addEventListener('click', () => {
      card.classList.toggle('flipped');
    });
    card.tabIndex = 0;
    card.addEventListener('keypress', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        card.classList.toggle('flipped');
      }
    });
  });
}

function openMessage(index) {
  const card = cards[index];
  document.getElementById('overlayName').textContent = card.dataset.name;
  document.getElementById('overlayText').innerHTML = card.dataset.message;
  document.getElementById('messageOverlay').style.display = 'flex';
}

document.getElementById('closeOverlay').addEventListener('click', () => {
  document.getElementById('messageOverlay').style.display = 'none';
});

document.getElementById('prevMsg').addEventListener('click', () => {
  currentIndex = (currentIndex - 1 + cards.length) % cards.length;
  openMessage(currentIndex);
});
document.getElementById('nextMsg').addEventListener('click', () => {
  currentIndex = (currentIndex + 1) % cards.length;
  openMessage(currentIndex);
});
</script>
</body>
</html>
